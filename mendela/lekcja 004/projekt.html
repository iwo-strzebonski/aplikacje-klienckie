<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        div {
            position: absolute;
            width: 32px;
            height: 32px;
            border: 1px black solid;
        }
    </style>
</head>

<body style="font-family: 'Courier New'">
    <script>
        var list = []
        var statki
        var temp
        var div
        var cell = 0
        var direction
        const randomBetween = (min, max) => min + Math.floor(Math.random() * (max - min + 1))

        for (i = 0; i < 12; i++) {
            for (j = 0; j < 12; j++) {
                temp = {
                    x: i,
                    y: j,
                    state: 0
                }
                list.push(temp)
            }
        }

        for (i = 0; i < list.length; i++) {
            if (!((i <= 11) || (i % 12 == 0) || ((i + 1) % 12 == 0) || (i >= 132 && i <= 143))) {
                div = document.createElement("DIV")
                div.style.left = list[i].x * 32 + "px"
                div.style.top = list[i].y * 32 + "px"
                div.id = `div${i}`
                document.body.appendChild(div)
            }
        }

        //console.log(cell)

        /*
        0 - góra
        1 - prawo
        2 - dół
        3 - lewo
         */

        while (true) {
            while (true) {
                if ((cell <= 11) || (cell % 12 == 0) || ((cell + 1) % 12 == 0) || (cell >= 132 && cell <= 143)) {
                    cell = randomBetween(0, 143)
                } else {
                    break
                }
            }

            direction = randomBetween(0, 3)

            /*if (direction == 0) {
                if (list[cell - 1] != undefined && list[cell - 2] != undefined && list[cell - 3] != undefined) {
                    console.log(direction, cell)
                    break
                }
            } else if (direction == 1) {
                if (list[cell + 12] != undefined && cell + 24 != undefined && cell + 36 != undefined) {
                    console.log(direction, cell)
                    break
                }
            } else if (direction == 2) {
                if (cell - 1 != undefined && cell - 2 != undefined && cell - 3 != undefined) {
                    console.log(direction, cell)
                    break
                }
            } else {
                if (cell - 1 != undefined && cell - 2 != undefined && cell - 3 != undefined) {
                    console.log(direction, cell)
                    break
                }
            }*/

            if (direction == 0) {
                if (document.getElementById(`div${cell - 1}`) != undefined &&
                    document.getElementById(`div${cell - 2}`) != undefined &&
                    document.getElementById(`div${cell - 3}`) != undefined) {
                    console.log(direction, cell)
                    break
                }
            }
        }

        console.log(list, list[cell].state, list[143] == undefined)
    </script>
</body>

</html>
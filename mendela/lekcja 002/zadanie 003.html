<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body style="font-family: 'Courier New'">
    <script>
        var list = prompt('Wklej zdanie',
            'ten testowy tekst te słowa testowe testuje: te, ten, Bartek, potencjał, plater. Te.').split(' ')
        var str = prompt('Szukane słowo', 'te')
        const punct_marks = ['.', ',', ';', '?', '!', ':']

        for (i = 0; i < list.length; i++) {
            if (punct_marks.includes(list[i][list[i].length - 1])) {
                if (list[i].substr(0, list[i].length - 1).toLowerCase() == str) {
                    list[i] = '<span style="text-decoration: underline;">' + list[i].substr(0, list[i].length - 1) +
                        '</span>' + list[i][list[i].length - 1]
                }
            } else if (list[i].toLowerCase() == str) {
                list[i] = '<span style="text-decoration: underline;">' + list[i] + '</span>'
            }
        }

        document.write(list.join(' '))
    </script>
</body>

</html>
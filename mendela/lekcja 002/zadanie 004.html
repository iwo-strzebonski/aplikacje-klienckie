<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body style="font-family: 'Courier New'">
    <script>
        var list = prompt('Wklej zdanie',
            'ten testowy tekst te słowa testowe testuje: te, ten, Bartek, potencjał, plater. Te.').toLowerCase().split(' ')
        var str
        var out = []
        var n, rgb
        var randomBetween = (min, max) => min + Math.floor(Math.random() * (max - min + 1))
        const punct_marks = ['.', ',', ';', '?', '!', ':']

        for (i = 0; i < list.length; i++) {
            n = 0

            if (punct_marks.includes(list[i][list[i].length - 1])) {
                list[i] = list[i].substr(0, list[i].length - 1)
            }
        }

        list = list.sort()
        n = 0

        for (i = 0; i < list.length; i++) {
            if (list[i] != str) {
                if (n > 0) {
                    out.unshift({
                        s: str,
                        n: n
                    })
                }
                str = list[i]
                n = 1
            } else {
                n++
            }
        }

        if (n > 0) {
            out.unshift({
                s: str,
                n: n
            })
        }

        out = out.sort((a, b) => {
            return b.n - a.n;
        })

        for (i = 0; i < out.length; i++) {
            if (i % 5 == 0) {
                rgb = `rgb(${randomBetween(0, 255)},${randomBetween(0,
        255)},${randomBetween(0, 255)})`
            }

            document.write(`<span style="color: ${rgb}">[ilość wystąpień: ${out[i].n}] ${out[i].s}</span><br />`)
        }
    </script>
</body>

</html>